graph TD
    subgraph TypeScript Enterprise Analytics SDK
        A[Application/Website] --> B(Analytics SDK Instance)
        B --> C{Event Tracking}
        C --> D[Middleware Chain]
        D --> E[Plugin Architecture]
        E --> F[Context Management]
        F --> G[Persistence Layer]
        G --> H[Consent Management]
        H --> I[Analytics Backend]
    end

    style A fill:#afa,stroke:#333,stroke-width:2px
    style B fill:#f9f,stroke:#333,stroke-width:2px
    style C fill:#bbf,stroke:#333,stroke-width:2px
    style D fill:#ccf,stroke:#333,stroke-width:2px
    style E fill:#ffc,stroke:#333,stroke-width:2px
    style F fill:#afa,stroke:#333,stroke-width:2px
    style G fill:#f9f,stroke:#333,stroke-width:2px
    style H fill:#bbf,stroke:#333,stroke-width:2px
    style I fill:#ccf,stroke:#333,stroke-width:2px

